import{r as a,a as g,u as O,j as e,H as V,M as H,B as j,c as U,s as x}from"./index-CmGxKR2W.js";import{S as P,a as q,b as L,c as A,V as D,d as M,C as G,T as J}from"./textarea-DpdPb1qd.js";import{L as t,I as l}from"./dialog-x9vYFAAS.js";import{T as W,a as Z,b as S,c as y}from"./tabs-BD69CF-m.js";import{P as _,a as K,C as Q,b as X,c as Y,d as $,e as ee,f as re,g as ae,h as se}from"./popover-BjZ5rIVa.js";const he=()=>{const[d,u]=a.useState("login"),{currentUser:o,isLoading:c}=g(),n=O();return a.useEffect(()=>{!c&&o&&(o.type==="client"?n("/client-dashboard"):o.type==="provider"?n("/provider-dashboard"):o.type==="admin"&&n("/admin-dashboard"))},[o,c,n]),e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(V,{}),e.jsx("div",{className:"flex-grow flex items-center justify-center bg-gray-100 dark:bg-gray-900 p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-card dark:bg-gray-800 p-8 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-foreground dark:text-foreground",children:"Bienvenido a TE LO HAGO"}),e.jsx("p",{className:"text-lg font-semibold text-foreground dark:text-foreground mb-6",children:"El Portal donde todo te lo pueden hacer"}),e.jsxs(W,{value:d,onValueChange:u,className:"w-full",children:[e.jsxs(Z,{className:"grid w-full grid-cols-3",children:[" ",e.jsx(S,{value:"login",children:"Iniciar Sesión"}),e.jsx(S,{value:"client-register",children:"Cliente"}),e.jsx(S,{value:"provider-register",children:"Proveedor"})," "]}),e.jsx(y,{value:"login",children:e.jsx(te,{})}),e.jsx(y,{value:"client-register",children:e.jsx(ie,{})}),e.jsx(y,{value:"provider-register",children:e.jsx(oe,{})})," "]})]})}),e.jsx(H,{})]})},te=()=>{const[d,u]=a.useState(""),[o,c]=a.useState(""),{login:n}=g(),m=async i=>{i.preventDefault(),await n(d,o)};return e.jsxs("form",{onSubmit:m,className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"login-email",children:"Correo Electrónico"}),e.jsx(l,{id:"login-email",type:"email",value:d,onChange:i=>u(i.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"login-password",children:"Contraseña"}),e.jsx(l,{id:"login-password",type:"password",value:o,onChange:i=>c(i.target.value),required:!0})]}),e.jsx(j,{type:"submit",className:"w-full",children:"Iniciar Sesión"})]})},ie=()=>{const[d,u]=a.useState(""),[o,c]=a.useState(""),[n,m]=a.useState(""),[i,C]=a.useState(""),[h,f]=a.useState(""),{registerClient:v}=g(),b=async s=>{if(s.preventDefault(),h.length<6){x("La contraseña debe tener al menos 6 caracteres.");return}await v({name:d,email:o,state:n,phone:i,password:h})};return e.jsxs("form",{onSubmit:b,className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"client-name",children:"Nombre"}),e.jsx(l,{id:"client-name",type:"text",value:d,onChange:s=>u(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"client-email",children:"Correo Electrónico"}),e.jsx(l,{id:"client-email",type:"email",value:o,onChange:s=>c(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"client-state",children:"Estado"}),e.jsxs(P,{value:n,onValueChange:m,required:!0,children:[e.jsx(q,{id:"client-state",children:e.jsx(L,{placeholder:"Selecciona un estado"})}),e.jsx(A,{children:D.map(s=>e.jsx(M,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"client-phone",children:"Número de Teléfono"}),e.jsx(l,{id:"client-phone",type:"tel",value:i,onChange:s=>C(s.target.value),placeholder:"Ej: 0412-1234567",required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"client-password",children:"Contraseña"}),e.jsx(l,{id:"client-password",type:"password",value:h,onChange:s=>f(s.target.value),required:!0})]}),e.jsx(j,{type:"submit",className:"w-full",children:"Registrar Cliente"})]})},oe=()=>{const[d,u]=a.useState(""),[o,c]=a.useState(""),[n,m]=a.useState(""),[i,C]=a.useState(""),[h,f]=a.useState(""),[v,b]=a.useState(""),[s,I]=a.useState(""),[p,R]=a.useState(""),[w,k]=a.useState(""),[N,E]=a.useState(!1),{registerProvider:B}=g(),T=["Abogado","Adiestrador canino","Albañil","Arquitecto","Barbero","Carpintero","Cerrajero","Chef a domicilio","Chofer privado","Clases de idiomas","Clases de música","Clases particulares","Contador","Cuidador de adultos mayores","Electricista","Enfermero(a)","Fumigador","Herrero","Ingeniero","Jardinero","Lavado de autos","Limpieza de casas","Limpieza de oficinas","Maquillador","Manicurista","Masajista","Mecánico","Mesonero","Motorizado / Delivery","Mudanzas","Niñera","Organización de eventos","Paseador de perros","Peluquero","Pintor","Plomero","Repostero","Servicios de sistemas","Servicios digitales","Servicios electrónica","Técnico de aire acondicionado"].sort(),z=async r=>{if(r.preventDefault(),!i){x("Por favor, selecciona una categoría de servicio.");return}if(v.length>50){x("La descripción breve no debe exceder los 50 caracteres.");return}if(p===""||isNaN(Number(p))||Number(p)<0){x("Por favor, introduce una tarifa válida.");return}if(s.length<6){x("La contraseña debe tener al menos 6 caracteres.");return}await B({name:d,email:o,state:n,phone:w,password:s,category:i,serviceTitle:h,serviceDescription:v,rate:Number(p)})};return e.jsxs("form",{onSubmit:z,className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"provider-name",children:"Nombre"}),e.jsx(l,{id:"provider-name",type:"text",value:d,onChange:r=>u(r.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"provider-email",children:"Correo Electrónico"}),e.jsx(l,{id:"provider-email",type:"email",value:o,onChange:r=>c(r.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"provider-state",children:"Estado"}),e.jsxs(P,{value:n,onValueChange:m,required:!0,children:[e.jsx(q,{id:"provider-state",children:e.jsx(L,{placeholder:"Selecciona un estado"})}),e.jsx(A,{children:D.map(r=>e.jsx(M,{value:r,children:r},r))})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"provider-phone",children:"Número de Teléfono"}),e.jsx(l,{id:"provider-phone",type:"tel",value:w,onChange:r=>k(r.target.value),placeholder:"Ej: 0412-1234567",required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"provider-category",children:"Categoría del Servicio"}),e.jsxs(_,{open:N,onOpenChange:E,children:[e.jsx(K,{asChild:!0,children:e.jsxs(j,{variant:"outline",role:"combobox","aria-expanded":N,className:"w-full justify-between",children:[i?T.find(r=>r===i):"Selecciona una categoría...",e.jsx(Q,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(X,{className:"w-[--radix-popover-trigger-width] p-0",children:e.jsxs(Y,{children:[e.jsx($,{placeholder:"Buscar categoría..."}),e.jsxs(ee,{children:[e.jsx(re,{children:"No se encontró categoría."}),e.jsx(ae,{children:T.map(r=>e.jsxs(se,{value:r,onSelect:F=>{C(F===i?"":F),E(!1)},children:[e.jsx(G,{className:U("mr-2 h-4 w-4",i===r?"opacity-100":"opacity-0")}),r]},r))})]})]})})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"provider-service-title",children:"Título del Servicio"}),e.jsx(l,{id:"provider-service-title",type:"text",value:h,onChange:r=>f(r.target.value),placeholder:"Ej: Plomero a domicilio",required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"provider-service-description",children:"Descripción Breve (máx. 50 caracteres)"}),e.jsx(J,{id:"provider-service-description",value:v,onChange:r=>b(r.target.value),maxLength:50,required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"provider-rate",children:"Tarifa por Servicio (USD)"}),e.jsx(l,{id:"provider-rate",type:"number",value:p,onChange:r=>R(parseFloat(r.target.value)||""),placeholder:"Ej: 50",required:!0,min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"provider-password",children:"Contraseña"}),e.jsx(l,{id:"provider-password",type:"password",value:s,onChange:r=>I(r.target.value),required:!0})]}),e.jsx(j,{type:"submit",className:"w-full",children:"Registrar Proveedor"})]})};export{he as default};
